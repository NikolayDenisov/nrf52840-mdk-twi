# nrf52840-mdk-twi ‚Äî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç—á–∏–∫–æ–º HDC2080

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞—Ç—á–∏–∫–æ–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ **Texas Instruments HDC2080** –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ **nRF52840**.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É TWI (I¬≤C) –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HAL/Drivers –∏–∑ SDK.

---

## üîó –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ HDC2080

Datasheet: https://www.ti.com/lit/ds/symlink/hdc2080.pdf

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π HDC2080:

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è HDC2080  
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (¬∞C)  
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (%)  
- –í–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞  
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∏–∂–Ω–µ–≥–æ –∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –ø–æ—Ä–æ–≥–æ–≤ (¬∞C)  
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∏–∂–Ω–µ–≥–æ –∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ –ø–æ—Ä–æ–≥–æ–≤ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (%)  
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –∏–∑–º–µ—Ä–µ–Ω–∏–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã/–≤–ª–∞–∂–Ω–æ—Å—Ç–∏  
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π —Å–±—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞  
- –í–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è DRDY  
- –°—á–∏—Ç—ã–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è)  
- –í–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö  
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–º–µ—â–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –≤ –¥–≤–æ–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (9 / 11 / 14 –±–∏—Ç)  
- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ + –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Ç–æ–ª—å–∫–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Ç–æ–ª—å–∫–æ –≤–ª–∞–∂–Ω–æ—Å—Ç—å)  
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—è—Ä–Ω–æ—Å—Ç–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∂–∏–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (level/edge)

---

## üß© –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ü–∏–Ω—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ TWI –∏ –≤—ã–≤–æ–¥–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è HDC2080:

```c
#define HDC2080_INT_PIN 13

#define TWI_SCL_PIN 6
#define TWI_SDA_PIN 8

#define HDC2080_ADDRESS 0x40
````

---

## üß± –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç–∏ –∫ SDK –∏ –∫–∞—Ç–∞–ª–æ–≥–∞–º –ø–ª–∞—Ç—ã –≤ `Makefile`:

```makefile
MDK_ROOT := /Users/nick/projects/iot/nrf52840-mdk/
SDK_ROOT := /Users/nick/projects/iot/nRF5_SDK_17.1.0_ddde560/
```

–¢—Ä–µ–±—É–µ—Ç—Å—è:

* arm-none-eabi-gcc
* arm-none-eabi-binutils
* nrfutil
* –ü–ª–∞—Ç–∞ nRF52840-MDK, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω–∞—è –ø–æ USB

---

## üîß –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
make
```

---

## üöÄ –ü—Ä–æ—à–∏–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

```bash
make flash
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `src/hdc2080.c` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç—á–∏–∫–æ–º
* `include/hdc2080.h` ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
* `main.c` ‚Äî –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* `Makefile` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏, –ø—É—Ç–∏ –∫ SDK –∏ –ø–ª–∞—Ç–µ
* `twi/` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ TWI –¥–ª—è nRF52840

---